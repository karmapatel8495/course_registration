<!DOCTYPE html>
<html>
<head>
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<link rel="stylesheet"
	href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

<script type="text/javascript">
	(function($) {
		$.getJSON("http://localhost:8090/invoices/", function(data) {
			document.getElementById("jsonData").value = data;
			var table = document.getElementById("invoicesTable");
			var size = Object.keys(data).length;
			var keys = Object.keys(data);
			for (var i = 0; i < size; i++) {
				var n = document.getElementById("invoicesTable").rows.length;
				var currentKey = keys[i];
				var currentRecord = data[currentKey];
				var invNo = currentRecord["invoiceNumber"];
				var daysLeft = currentRecord["numberOfDaysLeft"];
				var invValue = currentRecord["invoiceValue"];
				var funding = currentRecord["fundingAvailable"];
				var row = table.insertRow(n);
				var cell1 = row.insertCell(0);
				var cell2 = row.insertCell(1);
				var cell3 = row.insertCell(2);
				var cell4 = row.insertCell(3);
				cell1.innerHTML = invNo;
				cell2.innerHTML = daysLeft;
				cell3.innerHTML = invValue;
				cell4.innerHTML = funding;
			}
		});
	})(jQuery || window.jQuery);
</script>
</head>
<body>
	<input id="jsonData" name="jsonData" type="hidden">
	<div id="tableDiv">
		<table class="table" id="invoicesTable">
			<thead>
				<tr>
					<th>Invoice Number</th>
					<th>Number of Days Left</th>
					<th>Invoice Value</th>
					<th>Funding Available</th>
				</tr>
			</thead>
			<tbody>
			</tbody>
		</table>
	</div>
</body>
</html>